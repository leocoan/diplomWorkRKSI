% !TeX root = ./main.tex
% !TEX TS-program = xelatex

\documentclass[russian,utf8,simple]{eskdtext}

\usepackage{cmap}
\usepackage{fontspec}
\usepackage{xecyr}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{titlesec}
\usepackage{tocloft}
\usepackage{eqexpl}
\usepackage{ltxtable}
\usepackage{icomma}
\usepackage{indentfirst}
\usepackage{enumitem}
\usepackage{caption}
\usepackage{float}

\def\centersection#1{\hspace{6.5cm} #1}

\eqexplSetDelim{~--}
\eqexplSetIntro{где}

\sloppy

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{4}

\setlength{\cftsubsecindent}{0cm}
\setlength{\cftbeforesecskip}{0pt}
\setlength\parindent{5ex}

\setlist[enumerate,1]{label=\arabic*)}
\setlist[enumerate,2]{label=\arabic*),leftmargin=1.5cm}

\setlist{nolistsep,parsep=0pt,leftmargin=1.6cm,wide}

\setlist[2]{labelindent=2\parindent,leftmargin=1.3cm}

\newcommand{\No}{\textnumero}

% Thank: https://stackoverflow.com/questions/2785260/hide-an-entry-from-toc-in-latex
\newcommand{\nocontentsline}[3]{}
\newcommand{\tocless}[2]{\bgroup\let\addcontentsline=\nocontentsline#1{#2}\egroup}

\renewcommand{\ESKDcolumnXfIname}{Студент}
\renewcommand{\ESKDcolumnXfIIname}{Консульт.}
\renewcommand{\ESKDcolumnXfVname}{Руковод.}
\renewcommand{\ESKDcolumnXfVIname}{Н. контр.}

\renewcommand{\arraystretch}{1.3}

\renewcommand{\cfttoctitlefont}{\hfill\normalfont}
\renewcommand{\cftaftertoctitle}{\hfill\hfill}

\renewcommand{\cftsecfont}{\normalfont}
\renewcommand{\cftsecpagefont}{\normalfont}

\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

% Меня это жутко раздражает. Из-за "ГОСТ"а моей шараги мой дип. рук стал норм.контролером.
% Ох.еть

\ESKDtitle{\textnormal{{\footnotesize Разработка серверной части для онлайн-конструктора конфигураций}}}
\ESKDsignature{\textnormal{РКСИ.ВКР20.09.02.03.2297.00ПЗ}}
\ESKDauthor{Леммер}
\ESKDnormContr{Ляхов}
\ESKDchecker{Езепчук}
\ESKDapprovedBy{Жабинская}

\graphicspath{{img/}}

\setmainfont[Mapping=tex-text]{Times New Roman}
\setsansfont[Mapping=tex-text]{Liberation Sans}
\setmonofont[Mapping=tex-text]{Liberation Mono}

\titleformat{\section}{\normalfont\normalsize}{\thesection}{1em}{}
\titleformat{\subsection}{\normalfont\normalsize}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalfont\normalsize}{\thesubsubsection}{1em}{}
\titleformat{\paragraph}
{\normalfont\normalsize}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{5ex}{1.5cm}{1.5cm}

\linespread{1}

\captionsetup[figure]{skip=0.5cm}

\captionsetup[table]{format=hang,indention=-60pt,margin=5ex}

\begin{document}
    \input{documents/title}
    \newpage
    \input{documents/toc}
    \newpage
    \input{documents/intoduction}
    \newpage
    \input{documents/collection_requirements}
    \newpage
    \input{documents/design}
    \newpage
    \input{documents/develop}
    \newpage
    \input{documents/documentation}
    \newpage
    \input{documents/economic}
    \newpage
    \input{documents/secuirity_work}
    \newpage
    \input{documents/conclusion}
    \newpage
\end{document}
