% !TeX root = ./main.tex
% !TEX TS-program = xelatex

\documentclass[russian,utf8,simple]{eskdtext}

\usepackage{cmap}
\usepackage{fontspec}
\usepackage{xecyr}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{titlesec}
\usepackage{tocloft}
\usepackage{eqexpl}
\usepackage{ltxtable}
\usepackage{icomma}
\usepackage{indentfirst}
\usepackage{enumitem}
\usepackage{caption}
\usepackage{float}
\usepackage{tikz}
\usepackage{pdfpages}
\usepackage{fancyvrb}

\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 
\def\centersection#1{\hspace{6cm} #1}

\eqexplSetDelim{~--}
\eqexplSetIntro{где}
\eqexplSetItemAlign{l}

\sloppy

\setcounter{tocdepth}{2}
\setcounter{secnumdepth}{4}

\setlength\cftsecindent{4mm}
\setlength{\cftsubsecindent}{4mm}
\setlength{\cftbeforesecskip}{0pt}
\setlength{\cftsecindent}{4mm}
\setlength\cftaftertoctitleskip{1.2cm}
\setlength\parindent{5ex}

\renewcommand*{\cftsecafterpnum}{\hspace*{4mm}}
\renewcommand*{\cftsubsecafterpnum}{\hspace*{4mm}}

\setlist[enumerate,1]{label=\arabic*)}
\setlist[enumerate,2]{label=\arabic*),leftmargin=1.5cm}

\setlist{nolistsep,parsep=0pt,leftmargin=1.6cm,wide}

\setlist[2]{labelindent=2\parindent,leftmargin=1.3cm}

\newcommand{\No}{\textnumero}

% Thank: https://stackoverflow.com/questions/2785260/hide-an-entry-from-toc-in-latex
\newcommand{\nocontentsline}[3]{}
\newcommand{\tocless}[2]{\bgroup\let\addcontentsline=\nocontentsline#1{#2}\egroup}

\renewcommand{\ESKDcolumnXfIname}{Студент}
\renewcommand{\ESKDcolumnXfIIname}{Консульт.}
\renewcommand{\ESKDcolumnXfVname}{Руковод.}
\renewcommand{\ESKDcolumnXfVIname}{Н. контр.}

\renewcommand{\arraystretch}{1.3}

\renewcommand{\cfttoctitlefont}{\hfill\normalfont}
\renewcommand{\cftaftertoctitle}{\hfill\hfill}

\renewcommand{\cftsecfont}{\normalfont}
\renewcommand{\cftsecpagefont}{\normalfont}

\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}

% Меня это жутко раздражает. Из-за "ГОСТ"а моей шараги мой дип. рук стал норм.контролером.
% Ох.еть

\ESKDtitle{\textnormal{{\footnotesize Разработка серверной части для онлайн конструктора конфигураций \\ Пояснительная записка}}}
\ESKDsignature{\textnormal{\normalsize{РКСИ.ВКР20.09.02.03.2297.00ПЗ}}}
\ESKDauthor{Леммер}
\ESKDnormContr{Ляхов}
\ESKDchecker{Езепчук}
\ESKDapprovedBy{Жабинская}
\ESKDgroup{\textnormal{\footnotesize{ПОКС-42}}}

\ESKDremoveFromStyle{formII}{}

\graphicspath{{img/}}

\setmainfont[Mapping=tex-text]{Times New Roman}
\setsansfont[Mapping=tex-text]{Liberation Sans}
\setmonofont[Mapping=tex-text]{Times New Roman}

\titleformat{\section}{\normalfont\normalsize}{\thesection}{1em}{}
\titleformat{\subsection}{\normalfont\normalsize}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalfont\normalsize}{\thesubsubsection}{1em}{}
\titleformat{\paragraph}
{\normalfont\normalsize}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{5ex}{1.5cm}{1.5cm}

\linespread{1}

\captionsetup[figure]{skip=0.5cm}

\captionsetup[table]{format=hang,indention=-60pt,margin=5ex}

\begin{document}
    \input{documents/title}
    \newpage
    \input{documents/toc}
    \newpage
    \input{documents/intoduction}
    \newpage
    \input{documents/collection_requirements}
    \newpage
    \input{documents/design}
    \newpage
    \input{documents/develop}
    \newpage
    \input{documents/testing}
    \newpage
    \input{documents/documentation}
    \newpage
    \input{documents/secuirity}
    \newpage
    \input{documents/economic}
    \newpage
    \input{documents/secuirity_work}
    \newpage
    \input{documents/uses}
    \newpage
    \input{documents/conclusion}
    \newpage
    \input{documents/biblio}
    \newpage
    \input{documents/addaitional.tex}
    \newpage
\end{document}
